{% extends "baseadmin.html.twig" %}

{% block body %}
    <!-- Message d'alerte si tentative de suppression d'une categories qui contient des formations -->
    {% for message in app.flashes('echec') %}
        <div class="mt-3 alert-danger">
            {{ message }}
        </div>
    {% endfor %}

    <div class="row mt-3">
        <div class="col">  
            <table class="table table-striped">
                <description>Gestion des categories</description>
                <thead>
                    <tr>
                        <th class="text-left align-top" scope="col">
                            Categories<br />                  
                        </th>
                </thead>
                <tbody>
                    {% for categorie in categories %}
                        <tr class="align-middle">
                            <td>
                                <h5 class="text-info">
                                    {{ categorie.getName }}
                                </h5>
                            </td>
                            <!-- Ajout du bouton supprimer avec confirmation -->
                            <td class="text-left">
                                <a href="{{ path('admin.categorie.suppr', {id:categorie.id}) }}" class="btn btn-danger" onclick="confirm('Etes-vous sÃ»r de vouloir supprimer {{categorie.name}} ?')">Supprimer</a>
                            </td>

                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
                     
        <div class="col">
            {{ include('_admin.categorie.form.html.twig') }}
        </div>
        
    </div>
{% endblock %}